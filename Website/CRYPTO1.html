<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Exchange</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        header {
            background-color: #0022ff;
            color: white;
            padding: 10px;
            text-align: center;
        }

        nav {
            margin-top: 50px;
            display: flex;
            justify-content: center;
            background-color: none;
        }

        nav a {
            margin: 0 10px;
            text-decoration: none;
            color: #333;
            font-weight: bold;
        }

        section {
            margin-top: 20px;
        }

        #exchange, #withdraw {
            display: none;
        }


        form {
            display: flex;
            flex-direction: column;
            max-width: 300px;
            margin: auto;
        }

        input, select, button {
            margin-bottom: 10px;
            padding: 5px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Crypto Exchange Platform</h1>
    </header>

    <nav>
        <a href="#" onclick="showPage('exchange')">Exchange</a>
        <a href="#" onclick="showPage('withdraw')">Withdraw</a>
    </nav>

    <section id="exchange">
        <form id="exchangeForm" onsubmit="exchangeCrypto(); return false;">
            <label for="fromCurrency">From Cryptocurrency:</label>
            <select id="fromCurrency">
                <option value="btc">BTC</option>
                <option value="eth">ETH</option>
                <option value="xrp">XRP</option>
                <option value="bnb">BNB</option>
                <!-- Add other cryptocurrencies as needed -->
            </select>

            <label for="toCurrency">To Currency:</label>
            <select id="toCurrency">
                <option value="usd">USD</option>
                <option value="eur">EUR</option>
                <option value="gbr">GBR</option>
                <option value="bgn">BGN</option>
                <!-- Add other fiat currencies as needed -->
            </select>

            <label for="withdrawAmount">Amount from Cryptocurrency:</label>
            <input type="text" id="withdrawAmount" required>
            <label for="withdrawAmount">Amount to Currency:</label>
            <input type="text" id="withdrawAmount" required>

            

            <button type="submit">Exchange</button>
        </form>
    </section>

    

    <section id="withdraw">
        
        <form id="withdrawForm" onsubmit="withdrawCrypto(); return false;">
            <label for="withdrawCurrency">Withdraw Currency:</label>
            <select id="toCurrency">
                <option value="usd">USD</option>
                <option value="eur">EUR</option>
                <option value="gbr">GBR</option>
                <option value="bgn">BGN</option>
                <!-- Add other fiat currencies as needed -->
            </select>

            <label for="amount">Amount:</label>
            <input type="text" id="amount" required>

            <button type="submit">Withdraw</button>
        </form>
    </section>

    <script>
        function showPage(page) {
            document.getElementById('exchange').style.display = page === 'exchange' ? 'block' : 'none';
            document.getElementById('withdraw').style.display = page === 'withdraw' ? 'block' : 'none';
        }

        async function exchangeCrypto()
         {
        const fromCurrency = document.getElementById('fromCurrency').value;
        const toCurrency = document.getElementById('toCurrency').value;
        const amount = parseFloat(document.getElementById('withdrawAmount').value);

        try {
            // Fetch exchange rates from CoinGecko API
            const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${fromCurrency},${toCurrency}&vs_currencies=usd`);
            const data = await response.json();

            // Extract prices from the response
            const fromCurrencyPrice = data[fromCurrency].usd;
            const toCurrencyPrice = data[toCurrency].usd;

            // Calculate the exchanged amount
            const exchangedAmount = (amount / fromCurrencyPrice) * toCurrencyPrice;

            // Display the result
            document.getElementById('result').innerText = `Exchanged ${amount} ${fromCurrency} to ${exchangedAmount.toFixed(2)} ${toCurrency}`;
        } catch (error) {
            console.error('Error fetching data:', error);
        }
    }
    
    </script>

</body>
</html>